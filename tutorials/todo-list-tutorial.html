<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ActiveJ Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ActiveJ Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-176574648-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-176574648-1",{})</script><title data-react-helmet="true">ActiveJ | To-Do list app using React | ActiveJ</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://activej.io/tutorials/todo-list-tutorial"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="ActiveJ | To-Do list app using React | ActiveJ"><meta data-react-helmet="true" name="description" content="Integrate React.js in your Java web application. In the tutorial you will create a To-Do app using ActiveJ Java platform and React.js."><meta data-react-helmet="true" property="og:description" content="Integrate React.js in your Java web application. In the tutorial you will create a To-Do app using ActiveJ Java platform and React.js."><meta data-react-helmet="true" name="keywords" content="java,java for beginners,java framework,guide,tutorial,web application,server,servlet,spring,spring alternative,netty alternative,jetty alternative,async,todo app,todo list,react,reactjs,react js"><meta data-react-helmet="true" property="og:image" content="https://activej.io/img/preview.png"><meta data-react-helmet="true" name="twitter:image" content="https://activej.io/img/preview.png"><link data-react-helmet="true" rel="shortcut icon" href="/./img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://activej.io/tutorials/todo-list-tutorial"><link data-react-helmet="true" rel="alternate" href="https://activej.io/tutorials/todo-list-tutorial" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://activej.io/tutorials/todo-list-tutorial" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.abe9efa0.css">
<link rel="preload" href="/assets/js/runtime~main.4be4e4f5.js" as="script">
<link rel="preload" href="/assets/js/main.73b5b20b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/./img/favicon.png" alt="Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/./img/favicon.png" alt="Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">ActiveJ</b></a><a class="navbar__item navbar__link" href="/overview">Docs</a><a class="navbar__item navbar__link navbar__link--active" href="/tutorials/getting-started">Tutorials</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/activej/activej" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/./img/favicon.png" alt="Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/./img/favicon.png" alt="Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">ActiveJ</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/overview">Docs</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/tutorials/getting-started">Tutorials</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/activej/activej" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu menu--responsive thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/tutorials/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" href="/tutorials/template-engine-integration">Template Engine Integration</a></li><li class="menu__list-item"><a class="menu__link" href="/tutorials/http-decoder">HTTP Decoder</a></li><li class="menu__list-item"><a class="menu__link" href="/tutorials/authorization-tutorial">Authorization and Session Management</a></li><li class="menu__list-item"><a class="menu__link" href="/tutorials/getting-started-advanced">ActiveJ + Docker + AWS</a></li><li class="menu__list-item"><a class="menu__link" href="/tutorials/using-react">ActiveJ + React</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/tutorials/todo-list-tutorial">ActiveJ + React (Advanced)</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">To-Do list app using React</h1></header><p>In this tutorial we will create a To-Do List app using ActiveJ and React. We will explore how to integrate React in an ActiveJ project and how to simply manage routing using the HTTP module. You can find full example sources on <a href="https://github.com/activej/activej/blob/v4.3/examples/tutorials/react-integration-2" target="_blank">GitHub</a></p><p>Here we will consider only the main app class - <a href="#creating-launcher"><code>ApplicationLauncher</code></a>. It uses ActiveJ <a href="https://github.com/activej/activej/blob/v4.3/launchers/http/src/main/java/io/activej/launchers/http/HttpServerLauncher.java" target="_blank"><code>HttpServerLauncher</code></a> and <a href="https://github.com/activej/activej/blob/v4.3/core-http/src/main/java/io/activej/http/AsyncServlet.java" target="_blank"><code>AsyncServlet</code></a> classes for setting up an embedded application server. With this approach, you can create servers with no XML configurations or third-party dependencies. Moreover, <code>HttpServerLauncher</code> will automatically take care of launching, running and stopping the application. You&#x27;ll only need to provide launcher with servlets.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="creating-launcher"></a>Creating Launcher<a class="hash-link" href="#creating-launcher" title="Direct link to heading">#</a></h2><p><code>ApplicationLauncher</code> is the main class of the program. Besides launching the application, it also handles routing and most of the corresponding logic. We will use ActiveJ <code>HttpServerLauncher</code> and extend it:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">public final class ApplicationLauncher extends HttpServerLauncher {</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  private static final StructuredCodec&lt;Plan&gt; PLAN_CODEC = object(Plan::new,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;text&quot;, Plan::getText, STRING_CODEC,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;isComplete&quot;, Plan::isComplete, BOOLEAN_CODEC);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  private static final StructuredCodec&lt;Record&gt; RECORD_CODEC = object(Record::new,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;title&quot;, Record::getTitle, STRING_CODEC,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      &quot;plans&quot;, Record::getPlans, ofList(PLAN_CODEC));</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Provides</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  RecordDAO recordRepo() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new RecordImplDAO();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Provides</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Executor executor() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    return newSingleThreadExecutor();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div><p>First, we define <a href="/misc/codec">codecs</a> for our two entities: <strong>Plan</strong> and <strong>Record</strong>.
These codecs will help us to encode/decode <strong>Plan</strong> and <strong>Record</strong> from/to JSONs to communicate with <strong>TodoService.js</strong>.</p><p>Method <em>object</em> returns a new <code>StructuredCodec</code> and, in the case of <strong>Plan</strong> and <strong>Record</strong> entities, that requires the
following parameters:</p><ul><li><code>TupleParser2</code> <em>constructor</em> - basically a constructor of your class with 2 parameters. There are
several predefined <code>TupleParser</code>s for up to 6 parameters.</li><li><code>String</code> <code>field1</code> - the first field of the encoded/decoded class</li><li><code>Function</code> <em>getter1</em> - getter of <code>field1</code></li><li><code>StructuredCodec</code> <em>codec1</em> - codec for <code>field1</code> (depends on the type of the field, for example, <code>STRING_CODEC</code>, <code>BOOLEAN_CODEC</code>)</li><li><code>String</code> <em>field2</em> - another field of the class</li><li><code>Function</code> <em>getter2</em> - getter of <em>field2</em></li><li><code>StructuredCodec</code> <em>codec1</em> - codec for <em>field2</em></li></ul><p>Next, we provided <code>RecordDAO</code> with the application business logic and <code>Executor</code> which is needed for our <code>AsyncServlet</code>.
<code>AsyncServlet</code> loads static content from <code>/build</code> directory and takes care of the routing:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">@Provides</span></span><span class="token-line" style="color:#393A34"><span class="token plain">AsyncServlet servlet(Executor executor, RecordDAO recordDAO) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  return RoutingServlet.create()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      .map(&quot;/*&quot;, StaticServlet.ofClassPath(executor, &quot;build/&quot;)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          .withIndexHtml())</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div><p>Routing in ActiveJ HTTP module resembles Express approach. Method <em>map(@Nullable HttpMethod method, String path, AsyncServlet servlet)</em>
adds routes to the <code>RoutingServlet</code>:</p><ul><li><code>method</code> (optional) is one of the HTTP methods (<code>GET</code>, <code>POST</code>, etc.)</li><li><code>path</code> is the path on the server</li><li><code>servlet</code> defines the logic of request processing. If you need to get some data from the <code>request</code> while processing you can use:<ul><li><code>request.getPathParameter(String key)</code>/<code>request.getQueryParameter(String key)</code> (<a href="https://github.com/activej/activej/blob/v4.3/examples/core/http/src/main/java/HttpRequestParametersExample.java" target="_blank">see example of query parameter usage</a>
to provide the key of the needed parameter and receive back a corresponding String</li><li><code>request.getPostParameters()</code> to get a Map of all request parameters</li></ul></li></ul><p>Pay attention to the <code>*</code> in the provided request. It states that whichever path until the next <code>/</code> is received, it
will be processed by our static servlet, which uploads static content from <code>/build</code> directory.</p><p>Servlet should be able to add a new record, get all available records, delete record by its id and
also mark plans of particular record as completed or not, so we provide corresponding routing:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">.map(POST, &quot;/add&quot;, loadBody()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    .serve(request -&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      ByteBuf body = request.getBody();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      try {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        Record record = JsonUtils.fromJson(RECORD_CODEC, body.getString(UTF_8));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        recordDAO.add(record);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return HttpResponse.ok200();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      } catch (MalformedDataException e) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        return HttpResponse.ofCode(400);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }))</span></span><span class="token-line" style="color:#393A34"><span class="token plain">.map(GET, &quot;/get/all&quot;, request -&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Map&lt;Integer, Record&gt; records = recordDAO.findAll();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  return HttpResponse.ok200()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      .withJson(JsonUtils.toJson(ofMap(INT_CODEC, RECORD_CODEC), records));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span></span><span class="token-line" style="color:#393A34"><span class="token plain">//[START REGION_4]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">.map(GET, &quot;/delete/:recordId&quot;, request -&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  int id = parseInt(request.getPathParameter(&quot;recordId&quot;));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  recordDAO.delete(id);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  return HttpResponse.ok200();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span></span><span class="token-line" style="color:#393A34"><span class="token plain">//[END REGION_4]</span></span><span class="token-line" style="color:#393A34"><span class="token plain">.map(GET, &quot;/toggle/:recordId/:planId&quot;, request -&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  int id = parseInt(request.getPathParameter(&quot;recordId&quot;));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  int planId = parseInt(request.getPathParameter(&quot;planId&quot;));</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Record record = recordDAO.find(id);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Plan plan = record.getPlans().get(planId);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  plan.toggle();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  return HttpResponse.ok200();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div><p>Pay attention to the requests with <code>:</code>, for example:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W java"><pre tabindex="0" class="prism-code language-java codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token plain">.map(GET, &quot;/delete/:recordId&quot;, request -&gt; {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  int id = parseInt(request.getPathParameter(&quot;recordId&quot;));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  recordDAO.delete(id);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  return HttpResponse.ok200();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div><p><code>:</code> states that the following characters until the next <code>/</code> is a variable whose keyword, in this case, is <code>recordId</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="running-the-application"></a>Running the application<a class="hash-link" href="#running-the-application" title="Direct link to heading">#</a></h2><p>To run the example <a href="https://github.com/activej/activej" target="_blank" rel="noopener noreferrer">clone ActiveJ</a> and import it
as a Maven project. Check out branch <strong>v4.3</strong>. Before running the example, build the project (<strong>Ctrl + F9</strong> for IntelliJ IDEA).</p><p>Then, run the following command in <code>activej/examples/tutorials/react-integration-2/front</code> directory in terminal:</p><div class="codeBlockContainer_2gih"><div class="codeBlockContent_3z4W bash"><pre tabindex="0" class="prism-code language-bash codeBlock_6upA thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xlV7"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> i</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run-script build</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_2e3i clean-btn">Copy</button></div></div><p>Open <code>ApplicationLauncher</code> and run its <code>main</code> method. Then open your favourite browser and go to <a href="http://localhost:8080" target="_blank" rel="noopener noreferrer">localhost:8080</a>. Try to add and delete some tasks or mark them as completed</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/tutorials/using-react"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« ActiveJ + React</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-launcher" class="table-of-contents__link">Creating Launcher</a></li><li><a href="#running-the-application" class="table-of-contents__link">Running the application</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 ActiveJ LLC. All Rights Reserved</div></div></div></footer></div>
<script src="/assets/js/runtime~main.4be4e4f5.js"></script>
<script src="/assets/js/main.73b5b20b.js"></script>
</body>
</html>